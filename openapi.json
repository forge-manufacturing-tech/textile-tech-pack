{"components":{"schemas":{"BlobResponse":{"properties":{"content_type":{"type":"string"},"created_at":{"format":"date-time","type":"string"},"file_name":{"type":"string"},"id":{"format":"uuid","type":"string"},"session_id":{"format":"uuid","type":"string"},"size":{"format":"int64","type":"integer"}},"required":["id","session_id","file_name","content_type","size","created_at"],"type":"object"},"ChatParams":{"properties":{"message":{"type":"string"}},"required":["message"],"type":"object"},"CreateProjectParams":{"properties":{"description":{"type":["string","null"]},"name":{"type":"string"}},"required":["name"],"type":"object"},"InitResponse":{"properties":{"initialized":{"type":"boolean"}},"required":["initialized"],"type":"object"},"LoginParams":{"properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"],"type":"object"},"LoginResponse":{"properties":{"is_verified":{"type":"boolean"},"name":{"type":"string"},"pid":{"type":"string"},"token":{"type":"string"}},"required":["token","pid","name","is_verified"],"type":"object"},"MessageResponse":{"properties":{"content":{"type":"string"},"created_at":{"type":"string"},"id":{"format":"uuid","type":"string"},"role":{"type":"string"},"session_id":{"format":"uuid","type":"string"}},"required":["id","session_id","role","content","created_at"],"type":"object"},"Params":{"properties":{"content":{"type":["string","null"]},"project_id":{"format":"uuid","type":["string","null"]},"title":{"type":["string","null"]}},"type":"object"},"ProjectResponse":{"properties":{"created_at":{"format":"date","type":"string"},"description":{"type":["string","null"]},"id":{"format":"uuid","type":"string"},"name":{"type":"string"},"role":{"type":["string","null"]},"updated_at":{"format":"date","type":"string"}},"required":["id","name","created_at","updated_at"],"type":"object"},"RegisterParams":{"properties":{"email":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"}},"required":["email","password","name"],"type":"object"},"ResetPasswordParams":{"properties":{"password":{"type":"string"}},"required":["password"],"type":"object"},"SessionResponse":{"properties":{"content":{"type":["string","null"]},"created_at":{"format":"date","type":"string"},"id":{"format":"uuid","type":"string"},"pending_tasks":{"items":{"type":"string"},"type":"array"},"project_id":{"format":"uuid","type":["string","null"]},"status":{"type":"string"},"title":{"type":["string","null"]},"updated_at":{"format":"date","type":"string"}},"required":["id","status","pending_tasks","created_at","updated_at"],"type":"object"},"ShareProjectParams":{"properties":{"email":{"type":"string"}},"required":["email"],"type":"object"},"UpdateProjectParams":{"properties":{"description":{"type":["string","null"]},"name":{"type":["string","null"]}},"type":"object"},"UserResponse":{"properties":{"created_at":{"type":"string"},"email":{"type":"string"},"id":{"format":"int64","type":"integer"},"name":{"type":"string"},"pid":{"format":"uuid","type":"string"},"role":{"type":"string"}},"required":["id","pid","email","name","role","created_at"],"type":"object"},"UserSearchResponse":{"properties":{"email":{"type":"string"},"id":{"format":"int64","type":"integer"},"name":{"type":"string"}},"required":["id","name","email"],"type":"object"}}},"info":{"description":"","license":{"name":""},"title":"backend","version":"0.1.0"},"openapi":"3.1.0","paths":{"/api/admin/users":{"get":{"operationId":"list_users","responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserResponse"},"type":"array"}}},"description":"List users"},"403":{"description":"Unauthorized"}},"tags":["controllers::admin"]}},"/api/admin/users/{id}":{"get":{"operationId":"get_user","parameters":[{"description":"User PID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}},"description":"Get user"},"403":{"description":"Unauthorized"},"404":{"description":"User not found"}},"tags":["controllers::admin"]},"delete":{"operationId":"delete_user","parameters":[{"description":"User PID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"User deleted"},"403":{"description":"Unauthorized"},"404":{"description":"User not found"}},"tags":["controllers::admin"]}},"/api/admin/users/{id}/demote":{"post":{"operationId":"demote","parameters":[{"description":"User PID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"User demoted"},"403":{"description":"Unauthorized"},"404":{"description":"User not found"}},"tags":["controllers::admin"]}},"/api/admin/users/{id}/promote":{"post":{"operationId":"promote","parameters":[{"description":"User PID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"User promoted"},"403":{"description":"Unauthorized"},"404":{"description":"User not found"}},"tags":["controllers::admin"]}},"/api/admin/users/{id}/reset_password":{"post":{"operationId":"reset_password","parameters":[{"description":"User PID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordParams"}}},"required":true},"responses":{"200":{"description":"Password reset"},"403":{"description":"Unauthorized"},"404":{"description":"User not found"}},"tags":["controllers::admin"]}},"/api/auth/initialized":{"get":{"operationId":"initialized","responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitResponse"}}},"description":"Check if system is initialized"}},"tags":["controllers::auth"]}},"/api/auth/login":{"post":{"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginParams"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}},"description":"Login successful"},"401":{"description":"Unauthorized"}},"summary":"Creates a user login and returns a token","tags":["controllers::auth"]}},"/api/auth/register":{"post":{"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterParams"}}},"required":true},"responses":{"200":{"description":"User registered successfully"},"400":{"description":"Bad Request"}},"summary":"Register function creates a new user with the given parameters and sends a\nwelcome email to the user","tags":["controllers::auth"]}},"/api/blobs/{id}":{"delete":{"operationId":"remove","parameters":[{"description":"Blob ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Blob deleted"},"404":{"description":"Blob not found"}},"tags":["controllers::blobs"]}},"/api/blobs/{id}/download":{"get":{"operationId":"download","parameters":[{"description":"Blob ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Download blob"},"404":{"description":"Blob not found"}},"tags":["controllers::blobs"]}},"/api/projects":{"get":{"operationId":"list","responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProjectResponse"},"type":"array"}}},"description":"List all projects for current user"}},"tags":["controllers::projects"]},"post":{"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProjectParams"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}},"description":"Project created"}},"tags":["controllers::projects"]}},"/api/projects/{id}":{"delete":{"operationId":"remove","parameters":[{"description":"Project ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Project deleted"},"404":{"description":"Project not found"}},"tags":["controllers::projects"]},"get":{"operationId":"get_one","parameters":[{"description":"Project ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}},"description":"Get project"},"403":{"description":"Unauthorized"},"404":{"description":"Project not found"}},"tags":["controllers::projects"]},"put":{"operationId":"update","parameters":[{"description":"Project ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProjectParams"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}},"description":"Project updated"},"404":{"description":"Project not found"}},"tags":["controllers::projects"]}},"/api/projects/{id}/share":{"post":{"operationId":"share","parameters":[{"description":"Project ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ShareProjectParams"}}},"required":true},"responses":{"200":{"description":"Project shared"},"400":{"description":"User already in project"},"404":{"description":"Project or User not found"}},"tags":["controllers::projects"]}},"/api/sessions":{"get":{"operationId":"list","parameters":[{"in":"query","name":"project_id","required":false,"schema":{"format":"uuid","type":["string","null"]}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SessionResponse"},"type":"array"}}},"description":"List sessions"}},"tags":["controllers::sessions"]},"post":{"operationId":"add","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Params"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}},"description":"Session created"}},"tags":["controllers::sessions"]}},"/api/sessions/{id}":{"delete":{"operationId":"remove","parameters":[{"description":"Session ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Session deleted"},"404":{"description":"Session not found"}},"tags":["controllers::sessions"]},"get":{"operationId":"get_one","parameters":[{"description":"Session ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}},"description":"Get session"},"404":{"description":"Session not found"}},"tags":["controllers::sessions"]},"put":{"operationId":"update","parameters":[{"description":"Session ID","in":"path","name":"id","required":true,"schema":{"format":"uuid","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Params"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}},"description":"Session updated"},"404":{"description":"Session not found"}},"tags":["controllers::sessions"]}},"/api/sessions/{session_id}/blobs":{"get":{"operationId":"list","parameters":[{"description":"Session ID","in":"path","name":"session_id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/BlobResponse"},"type":"array"}}},"description":"List blobs"}},"tags":["controllers::blobs"]},"post":{"operationId":"upload","parameters":[{"description":"Session ID","in":"path","name":"session_id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BlobResponse"}}},"description":"File uploaded"},"404":{"description":"Session not found"}},"tags":["controllers::blobs"]}},"/api/sessions/{session_id}/chat":{"post":{"operationId":"chat","parameters":[{"description":"Session ID","in":"path","name":"session_id","required":true,"schema":{"format":"uuid","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatParams"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}},"description":"Chat response"},"404":{"description":"Session not found"}},"tags":["controllers::chat"]}},"/api/sessions/{session_id}/messages":{"delete":{"operationId":"clear_messages","parameters":[{"description":"Session ID","in":"path","name":"session_id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"description":"Messages cleared"}},"tags":["controllers::chat"]},"get":{"operationId":"list_messages","parameters":[{"description":"Session ID","in":"path","name":"session_id","required":true,"schema":{"format":"uuid","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/MessageResponse"},"type":"array"}}},"description":"List messages"}},"tags":["controllers::chat"]}},"/api/users/search":{"get":{"operationId":"search_users","parameters":[{"description":"Search query","in":"query","name":"q","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserSearchResponse"},"type":"array"}}},"description":"Search results"}},"tags":["controllers::projects"]}}}}